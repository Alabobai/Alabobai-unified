<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign In | Alabobai - Ultra Agent V4.0</title>
  <meta name="description" content="Sign in to Alabobai Ultra Agent V4.0 - Enterprise AI Platform">
  <link rel="icon" type="image/png" href="/images/logo.png">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600&family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Dynamic Background Styles -->
  <link rel="stylesheet" href="../css/background.css">

  <style>
    /* ============================================================================
       ULTRA AGENT V4.0 - Authentication Design System
       ============================================================================ */

    :root {
      /* Metallic Rose Gold Palette */
      --rose-gold: #d9a07a;
      --rose-gold-light: #ecd4c0;
      --rose-gold-bright: #f0e0d0;
      --rose-gold-dark: #b8845c;
      --rose-gold-deep: #8b6442;
      --copper: #c9956c;
      --bronze: #a67c52;

      /* Glow Effects */
      --glow-rose: rgba(217, 160, 122, 0.6);
      --glow-rose-intense: rgba(217, 160, 122, 0.9);
      --glow-soft: rgba(217, 160, 122, 0.3);

      /* Backgrounds */
      --bg-void: #000000;
      --bg-dark: #0a0808;
      --bg-card: rgba(12, 10, 8, 0.95);
      --bg-panel: rgba(18, 14, 12, 0.9);
      --bg-input: rgba(25, 20, 18, 0.8);

      /* Borders - Multi-layer */
      --border-outer: rgba(217, 160, 122, 0.5);
      --border-mid: rgba(217, 160, 122, 0.3);
      --border-inner: rgba(217, 160, 122, 0.15);
      --border-subtle: rgba(217, 160, 122, 0.08);

      /* Text */
      --text-bright: #f5ebe0;
      --text-primary: #e8d5c4;
      --text-secondary: #a89080;
      --text-muted: #6b5a4a;

      /* Status */
      --status-active: #7dd3a0;
      --status-glow: rgba(125, 211, 160, 0.5);
      --status-error: #e57373;
      --status-error-glow: rgba(229, 115, 115, 0.5);

      /* Typography */
      --font-display: 'Inter', -apple-system, sans-serif;
      --font-mono: 'JetBrains Mono', monospace;

      /* Animations */
      --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
      --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: var(--font-display);
      background: var(--bg-void);
      color: var(--text-primary);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      overflow-x: hidden;
    }

    /* Background Pattern */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background:
        radial-gradient(ellipse 80% 50% at 50% -20%, rgba(217, 160, 122, 0.08) 0%, transparent 50%),
        radial-gradient(ellipse 60% 40% at 80% 100%, rgba(217, 160, 122, 0.05) 0%, transparent 50%);
      pointer-events: none;
    }

    /* ============================================================================
       MORPHIC GLASS PANEL - Triple Beveled Border
       ============================================================================ */

    .morphic-panel {
      background: var(--bg-card);
      border-radius: 20px;
      position: relative;
      overflow: visible;
    }

    .morphic-panel::before {
      content: '';
      position: absolute;
      inset: -2px;
      border-radius: 22px;
      background: linear-gradient(
        135deg,
        var(--rose-gold) 0%,
        var(--rose-gold-dark) 25%,
        transparent 50%,
        var(--rose-gold-deep) 75%,
        var(--rose-gold) 100%
      );
      z-index: -1;
      opacity: 0.8;
    }

    .morphic-panel::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 20px;
      border: 1px solid var(--border-mid);
      pointer-events: none;
    }

    .morphic-inner {
      position: absolute;
      inset: 3px;
      border-radius: 17px;
      border: 1px solid var(--border-inner);
      pointer-events: none;
    }

    /* ============================================================================
       AUTH CONTAINER
       ============================================================================ */

    .auth-container {
      width: 100%;
      max-width: 440px;
      position: relative;
      z-index: 1;
    }

    .auth-panel {
      padding: 48px 40px;
    }

    /* ============================================================================
       HEADER / BRANDING
       ============================================================================ */

    .auth-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .brand-logo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin-bottom: 24px;
    }

    /* Logo Styles */
    .logo {
      height: 80px;
      width: auto;
      filter: drop-shadow(0 0 15px var(--glow-rose));
      transition: all 0.3s var(--ease-smooth);
    }

    .logo:hover {
      transform: scale(1.05);
      filter: drop-shadow(0 0 25px var(--glow-rose-intense));
    }

    @keyframes logoPulse {
      0%, 100% { filter: drop-shadow(0 0 15px var(--glow-rose)); }
      50% { filter: drop-shadow(0 0 30px var(--glow-rose-intense)); }
    }

    .logo-pulse {
      animation: logoPulse 3s ease-in-out infinite;
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      text-align: left;
    }

    .brand-title {
      font-size: 24px;
      font-weight: 300;
      letter-spacing: 1px;
      color: var(--text-bright);
      text-shadow: 0 0 30px var(--glow-soft);
    }

    .brand-title strong {
      font-weight: 700;
      color: var(--rose-gold-light);
      text-shadow: 0 0 20px var(--glow-rose);
    }

    .brand-version {
      font-size: 10px;
      font-weight: 500;
      letter-spacing: 2px;
      color: var(--text-muted);
      text-transform: uppercase;
      margin-top: 2px;
    }

    .auth-title {
      font-size: 28px;
      font-weight: 600;
      color: var(--text-bright);
      margin-bottom: 8px;
      text-shadow: 0 0 40px var(--glow-soft);
    }

    .auth-subtitle {
      font-size: 14px;
      color: var(--text-secondary);
    }

    .auth-subtitle a {
      color: var(--rose-gold);
      text-decoration: none;
      transition: all 0.3s var(--ease-smooth);
    }

    .auth-subtitle a:hover {
      color: var(--rose-gold-light);
      text-shadow: 0 0 15px var(--glow-rose);
    }

    /* ============================================================================
       FORM STYLES
       ============================================================================ */

    .auth-form {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .form-label {
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.5px;
      color: var(--text-secondary);
      text-transform: uppercase;
    }

    .form-input {
      width: 100%;
      padding: 16px 20px;
      background: var(--bg-input);
      border: 2px solid var(--border-mid);
      border-radius: 12px;
      color: var(--text-bright);
      font-family: var(--font-display);
      font-size: 15px;
      outline: none;
      transition: all 0.3s var(--ease-smooth);
    }

    .form-input::placeholder {
      color: var(--text-muted);
    }

    .form-input:focus {
      border-color: var(--rose-gold);
      box-shadow:
        0 0 30px var(--glow-soft),
        inset 0 0 20px rgba(217, 160, 122, 0.05);
    }

    .form-input:focus::placeholder {
      color: var(--text-secondary);
    }

    /* Error State */
    .form-input.error {
      border-color: var(--status-error);
      box-shadow: 0 0 20px var(--status-error-glow);
    }

    .form-error {
      font-size: 12px;
      color: var(--status-error);
      display: none;
      align-items: center;
      gap: 6px;
    }

    .form-error.visible {
      display: flex;
    }

    .form-error svg {
      width: 14px;
      height: 14px;
      stroke: var(--status-error);
      fill: none;
    }

    /* Password Input Container */
    .password-container {
      position: relative;
    }

    .password-toggle {
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .password-toggle svg {
      width: 20px;
      height: 20px;
      stroke: var(--text-muted);
      fill: none;
      transition: stroke 0.3s var(--ease-smooth);
    }

    .password-toggle:hover svg {
      stroke: var(--rose-gold);
    }

    /* ============================================================================
       CHECKBOX STYLES
       ============================================================================ */

    .form-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 4px;
    }

    .checkbox-wrapper {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
    }

    .checkbox-input {
      display: none;
    }

    .checkbox-custom {
      width: 20px;
      height: 20px;
      background: var(--bg-input);
      border: 2px solid var(--border-mid);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s var(--ease-smooth);
    }

    .checkbox-custom svg {
      width: 12px;
      height: 12px;
      stroke: transparent;
      stroke-width: 3;
      fill: none;
      transition: stroke 0.3s var(--ease-smooth);
    }

    .checkbox-input:checked + .checkbox-custom {
      background: linear-gradient(135deg, var(--rose-gold), var(--rose-gold-dark));
      border-color: transparent;
      box-shadow: 0 0 15px var(--glow-soft);
    }

    .checkbox-input:checked + .checkbox-custom svg {
      stroke: #1a1410;
    }

    .checkbox-label {
      font-size: 13px;
      color: var(--text-secondary);
    }

    .forgot-link {
      font-size: 13px;
      color: var(--rose-gold);
      text-decoration: none;
      transition: all 0.3s var(--ease-smooth);
    }

    .forgot-link:hover {
      color: var(--rose-gold-light);
      text-shadow: 0 0 15px var(--glow-rose);
    }

    /* ============================================================================
       CHROME METALLIC BUTTON
       ============================================================================ */

    .chrome-btn {
      position: relative;
      width: 100%;
      padding: 18px 40px;
      background: linear-gradient(
        180deg,
        var(--rose-gold-bright) 0%,
        var(--rose-gold-light) 20%,
        var(--rose-gold) 50%,
        var(--rose-gold-dark) 80%,
        var(--bronze) 100%
      );
      border: none;
      border-radius: 12px;
      color: #1a1410;
      font-family: var(--font-display);
      font-size: 16px;
      font-weight: 700;
      letter-spacing: 0.5px;
      cursor: pointer;
      transition: all 0.3s var(--ease-smooth);
      box-shadow:
        0 4px 15px rgba(0, 0, 0, 0.4),
        0 2px 4px rgba(0, 0, 0, 0.3),
        inset 0 2px 0 rgba(255, 255, 255, 0.3),
        inset 0 -2px 0 rgba(0, 0, 0, 0.2);
      text-shadow: 0 1px 0 rgba(255, 255, 255, 0.3);
      overflow: hidden;
      margin-top: 8px;
    }

    .chrome-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 50%;
      background: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.4) 0%,
        rgba(255, 255, 255, 0.1) 100%
      );
      border-radius: 12px 12px 0 0;
    }

    .chrome-btn:hover {
      transform: translateY(-2px);
      box-shadow:
        0 8px 25px rgba(217, 160, 122, 0.4),
        0 4px 10px rgba(0, 0, 0, 0.3),
        inset 0 2px 0 rgba(255, 255, 255, 0.4),
        inset 0 -2px 0 rgba(0, 0, 0, 0.2);
    }

    .chrome-btn:active {
      transform: translateY(0);
      box-shadow:
        0 2px 8px rgba(0, 0, 0, 0.4),
        inset 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .chrome-btn:disabled {
      opacity: 0.7;
      cursor: not-allowed;
      transform: none;
    }

    /* Loading State */
    .chrome-btn.loading {
      pointer-events: none;
    }

    .chrome-btn.loading .btn-text {
      opacity: 0;
    }

    .chrome-btn .btn-spinner {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 24px;
      height: 24px;
      border: 3px solid rgba(26, 20, 16, 0.3);
      border-top-color: #1a1410;
      border-radius: 50%;
      opacity: 0;
      animation: none;
    }

    .chrome-btn.loading .btn-spinner {
      opacity: 1;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to { transform: translate(-50%, -50%) rotate(360deg); }
    }

    /* ============================================================================
       DIVIDER
       ============================================================================ */

    .auth-divider {
      display: flex;
      align-items: center;
      gap: 16px;
      margin: 8px 0;
    }

    .divider-line {
      flex: 1;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--border-mid), transparent);
    }

    .divider-text {
      font-size: 12px;
      font-weight: 500;
      letter-spacing: 1px;
      color: var(--text-muted);
      text-transform: uppercase;
    }

    /* ============================================================================
       OAUTH BUTTONS - Secondary Chrome Style
       ============================================================================ */

    .oauth-buttons {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .oauth-btn {
      position: relative;
      width: 100%;
      padding: 14px 20px;
      background: var(--bg-input);
      border: 2px solid var(--border-mid);
      border-radius: 12px;
      color: var(--text-primary);
      font-family: var(--font-display);
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s var(--ease-smooth);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    .oauth-btn:hover {
      border-color: var(--rose-gold);
      background: var(--bg-panel);
      box-shadow: 0 0 30px var(--glow-soft);
      transform: translateY(-2px);
    }

    .oauth-btn:active {
      transform: translateY(0);
    }

    .oauth-btn svg {
      width: 20px;
      height: 20px;
    }

    .oauth-btn.google svg {
      fill: var(--text-primary);
    }

    .oauth-btn.github svg {
      fill: var(--text-primary);
    }

    /* ============================================================================
       FOOTER LINKS
       ============================================================================ */

    .auth-footer {
      text-align: center;
      margin-top: 32px;
      padding-top: 24px;
      border-top: 1px solid var(--border-subtle);
    }

    .auth-footer p {
      font-size: 13px;
      color: var(--text-muted);
    }

    .auth-footer a {
      color: var(--rose-gold);
      text-decoration: none;
      transition: all 0.3s var(--ease-smooth);
    }

    .auth-footer a:hover {
      color: var(--rose-gold-light);
      text-shadow: 0 0 15px var(--glow-rose);
    }

    /* ============================================================================
       ALERT MESSAGES
       ============================================================================ */

    .alert {
      padding: 14px 18px;
      border-radius: 10px;
      font-size: 13px;
      display: none;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .alert.visible {
      display: flex;
    }

    .alert.alert-error {
      background: rgba(229, 115, 115, 0.1);
      border: 1px solid rgba(229, 115, 115, 0.3);
      color: var(--status-error);
    }

    .alert.alert-success {
      background: rgba(125, 211, 160, 0.1);
      border: 1px solid rgba(125, 211, 160, 0.3);
      color: var(--status-active);
    }

    .alert svg {
      width: 18px;
      height: 18px;
      stroke: currentColor;
      fill: none;
      flex-shrink: 0;
    }

    /* ============================================================================
       RESPONSIVE
       ============================================================================ */

    @media (max-width: 480px) {
      .auth-panel {
        padding: 36px 24px;
      }

      .auth-title {
        font-size: 24px;
      }

      .brand-title {
        font-size: 20px;
      }

      .form-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="auth-container">
    <div class="morphic-panel auth-panel">
      <div class="morphic-inner"></div>

      <!-- Header -->
      <div class="auth-header">
        <div class="brand-logo">
          <a href="/">
            <img src="/images/logo.png" alt="Alabobai" class="logo logo-pulse">
          </a>
        </div>
        <h1 class="auth-title">Welcome Back</h1>
        <p class="auth-subtitle">Don't have an account? <a href="signup.html">Sign up</a></p>
      </div>

      <!-- Alert Messages -->
      <div class="alert alert-error" id="errorAlert">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
        <span id="errorMessage">Invalid email or password</span>
      </div>

      <div class="alert alert-success" id="successAlert">
        <svg viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
        <span id="successMessage">Login successful!</span>
      </div>

      <!-- Login Form -->
      <form class="auth-form" id="loginForm">
        <div class="form-group">
          <label class="form-label" for="email">Email Address</label>
          <input
            type="email"
            id="email"
            class="form-input"
            placeholder="you@company.com"
            required
            autocomplete="email"
          >
          <div class="form-error" id="emailError">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
            <span>Please enter a valid email address</span>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label" for="password">Password</label>
          <div class="password-container">
            <input
              type="password"
              id="password"
              class="form-input"
              placeholder="Enter your password"
              required
              autocomplete="current-password"
            >
            <button type="button" class="password-toggle" id="passwordToggle">
              <svg viewBox="0 0 24 24" id="eyeIcon">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
              <svg viewBox="0 0 24 24" id="eyeOffIcon" style="display: none;">
                <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/>
                <line x1="1" y1="1" x2="23" y2="23"/>
              </svg>
            </button>
          </div>
          <div class="form-error" id="passwordError">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
            <span>Password is required</span>
          </div>
        </div>

        <div class="form-row">
          <label class="checkbox-wrapper">
            <input type="checkbox" class="checkbox-input" id="rememberMe">
            <span class="checkbox-custom">
              <svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>
            </span>
            <span class="checkbox-label">Remember me</span>
          </label>
          <a href="forgot-password.html" class="forgot-link">Forgot password?</a>
        </div>

        <button type="submit" class="chrome-btn" id="submitBtn">
          <span class="btn-text">Sign In</span>
          <span class="btn-spinner"></span>
        </button>
      </form>

      <!-- Divider -->
      <div class="auth-divider">
        <div class="divider-line"></div>
        <span class="divider-text">Or continue with</span>
        <div class="divider-line"></div>
      </div>

      <!-- OAuth Buttons -->
      <div class="oauth-buttons">
        <button type="button" class="oauth-btn google" id="googleBtn">
          <svg viewBox="0 0 24 24">
            <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
            <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
            <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
            <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
          </svg>
          Continue with Google
        </button>
        <button type="button" class="oauth-btn github" id="githubBtn">
          <svg viewBox="0 0 24 24">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
          Continue with GitHub
        </button>
      </div>

      <!-- Footer -->
      <div class="auth-footer">
        <p>By signing in, you agree to our <a href="/terms">Terms</a> and <a href="/privacy">Privacy Policy</a></p>
      </div>
    </div>
  </div>

  <script>
    // Password toggle
    const passwordToggle = document.getElementById('passwordToggle');
    const passwordInput = document.getElementById('password');
    const eyeIcon = document.getElementById('eyeIcon');
    const eyeOffIcon = document.getElementById('eyeOffIcon');

    passwordToggle.addEventListener('click', () => {
      const isPassword = passwordInput.type === 'password';
      passwordInput.type = isPassword ? 'text' : 'password';
      eyeIcon.style.display = isPassword ? 'none' : 'block';
      eyeOffIcon.style.display = isPassword ? 'block' : 'none';
    });

    // Form validation and submission
    const loginForm = document.getElementById('loginForm');
    const submitBtn = document.getElementById('submitBtn');
    const emailInput = document.getElementById('email');
    const emailError = document.getElementById('emailError');
    const passwordError = document.getElementById('passwordError');
    const errorAlert = document.getElementById('errorAlert');
    const successAlert = document.getElementById('successAlert');

    // Email validation
    function validateEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

    // Clear errors
    function clearErrors() {
      emailInput.classList.remove('error');
      passwordInput.classList.remove('error');
      emailError.classList.remove('visible');
      passwordError.classList.remove('visible');
      errorAlert.classList.remove('visible');
    }

    // Show error
    function showError(input, errorElement, message) {
      input.classList.add('error');
      if (message) {
        errorElement.querySelector('span').textContent = message;
      }
      errorElement.classList.add('visible');
    }

    // Form submission
    loginForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      clearErrors();

      const email = emailInput.value.trim();
      const password = passwordInput.value;
      const rememberMe = document.getElementById('rememberMe').checked;

      let hasError = false;

      // Validate email
      if (!email) {
        showError(emailInput, emailError, 'Email is required');
        hasError = true;
      } else if (!validateEmail(email)) {
        showError(emailInput, emailError, 'Please enter a valid email address');
        hasError = true;
      }

      // Validate password
      if (!password) {
        showError(passwordInput, passwordError, 'Password is required');
        hasError = true;
      }

      if (hasError) return;

      // Show loading state
      submitBtn.classList.add('loading');
      submitBtn.disabled = true;

      try {
        // Simulate API call - replace with actual auth service
        const response = await fetch('/api/auth/login', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ email, password, rememberMe }),
        });

        const data = await response.json();

        if (!response.ok) {
          throw new Error(data.message || 'Invalid credentials');
        }

        // Store token
        const storage = rememberMe ? localStorage : sessionStorage;
        storage.setItem('authToken', data.token);
        storage.setItem('refreshToken', data.refreshToken);

        // Show success
        successAlert.classList.add('visible');

        // Redirect after short delay
        setTimeout(() => {
          window.location.href = '/app';
        }, 1000);

      } catch (error) {
        document.getElementById('errorMessage').textContent = error.message;
        errorAlert.classList.add('visible');
        submitBtn.classList.remove('loading');
        submitBtn.disabled = false;
      }
    });

    // OAuth handlers
    document.getElementById('googleBtn').addEventListener('click', () => {
      window.location.href = '/api/auth/google';
    });

    document.getElementById('githubBtn').addEventListener('click', () => {
      window.location.href = '/api/auth/github';
    });

    // Real-time validation
    emailInput.addEventListener('blur', () => {
      if (emailInput.value && !validateEmail(emailInput.value)) {
        showError(emailInput, emailError, 'Please enter a valid email address');
      }
    });

    emailInput.addEventListener('input', () => {
      if (emailInput.classList.contains('error')) {
        if (validateEmail(emailInput.value)) {
          emailInput.classList.remove('error');
          emailError.classList.remove('visible');
        }
      }
    });

    passwordInput.addEventListener('input', () => {
      if (passwordInput.classList.contains('error') && passwordInput.value) {
        passwordInput.classList.remove('error');
        passwordError.classList.remove('visible');
      }
    });
  </script>

  <!-- Dynamic Background Effects -->
  <script src="../js/background.js"></script>
</body>
</html>
